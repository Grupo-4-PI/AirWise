  <!DOCTYPE html>
  <html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>Carrossel Empilhado</title>

    <!-- Importa a fonte do site -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Importa o css -->
    <link rel="stylesheet" href="../public/css/componentes/carrossel.css">
  </head>
  <body>

  <!-- Container principal -->
    <main class="conteudo"> 
    
      <!-- Coluna ESQUERDA (texto e imagem)-->
      <section class="coluna-texto">

        <!-- Titulo da sessão -->
        <h2>Nosso Team</h2>
        <p>
          Por trás da AirWise está um time comprometido em desenvolver soluções
          que ajudam companhias aéreas a enxergar melhor seus desafios e oportunidades.
        </p>

        <img src="../public/assets/aviao.png" alt="aviao">
      </section>

      <!-- DIREITA - CARROSSEL -->
      <section class="carrossel-container">

        <!-- Botão que move para a esquerda -->
        <button class="setas-carrossel esquerda" aria-label="Anterior">&#10094;</button>

        <!-- Container dos cards do carrossel -->
        <div class="carrossel-stack" id="stack">

          <!-- Card 1 -->
          <article class="card">
            <img src="./assets/colaboradores/toledo.jpg" alt="Guilherme Toledo">
            <h3>Guilherme Toledo</h3>
            <p>P.O</p>
            <div class="redes-sociais">
              <a href="https://www.instagram.com/gui.htoledo/"><img src="../public/assets/insta.png" alt="insta">
          </a><a href="https://www.linkedin.com/in/guilherme-toledo-it/"><img src="../public/assets/linke (1).png" alt="linke"></a>
          </div>
          </article>

          <!-- Card 2 -->
          <article class="card">
            <img src="./assets/colaboradores/alves.jpg" alt="João Victor Alves">
            <h3>João Victor Alves</h3>
            <p>Developer Back-End</p>
            <div class="redes-sociais"><a href="https://www.instagram.com/ojoao.alvss/"><img src="../public/assets/insta.png" alt="insta"></a>
              <a href="https://www.linkedin.com/in/jo%C3%A3o-victor-alves-ferreira-417ab225b/"><img src="../public/assets/linke (1).png" alt="linke"></a>
      </div>
          </article>

          <!-- Card 3 -->
          <article class="card">
            <img src="./assets/colaboradores/carlinhos.jpg" alt="João Victor Carlos">
            <h3>João Victor Carlos</h3>
            <p>Developer Back-End</p>
            <div class="redes-sociais"><a href="https://www.instagram.com/joao_victoru/"><img src="../public/assets/insta.png" alt="insta"></a>
              <a href="https://www.linkedin.com/in/joaovictorcarlos/"><img src="../public/assets/linke (1).png" alt="linke"></a>
          </div>
          </article>

          <!-- Card 4 -->
          <article class="card">
            <img src="./assets/colaboradores/vini.jpg" alt="Vinicius Ventura">
            <h3>Vinicius Ventura</h3>
            <p>Developer Back-End</p>
            <div class="redes-sociais"><a href="https://www.instagram.com/_vinicius.ventura/"><img src="../public/assets/insta.png" alt="insta"></a>
              <a href="https://www.linkedin.com/in/vinicius-ventura-cavalcante-5a3709323/"><img src="../public/assets/linke (1).png" alt="linke"></a>
          </div>
          </article>

          <!-- Card 5 -->
          <article class="card">
            <img src="./assets/colaboradores/ray.jpg" alt="Rayssa Casagrande">
            <h3>Rayssa Casagrande</h3>
            <p>Developer Front-End</p>
            <div class="redes-sociais"><a href="https://www.instagram.com/ray.casagrande_/"><img src="../public/assets/insta.png" alt="insta"></a>
              <a href="https://www.linkedin.com/in/rayssa-casagrande-088505204/"><img src="../public/assets/linke (1).png" alt="linke"></a>
          </div>
          </article>

          <!-- Card 6 -->
          <article class="card">
            <img src="./assets/colaboradores/fernando.jpg" alt="Fernando Ramirez">
            <h3>Fernando Ramirez</h3>
            <p>Developer Front-End</p>
            <div class="redes-sociais"><a href="https://www.instagram.com/fer._457/"><img src="../public/assets/insta.png" alt="insta"></a>
              <a href="https://www.linkedin.com/in/fernando-ramirez-gutierrez-6519492a3/"><img src="../public/assets/linke (1).png" alt="linke"></a>
          </div>
          </article>
        </div>

        <!-- Seta que move para a direita -->
        <button class="setas-carrossel direita" aria-label="Próximo">&#10095;</button>
      </section>
    </main>


  <!-- Script do carrossel -->

    <script>

  document.addEventListener('DOMContentLoaded', () => {

  //Seleciona o container dos cards
    const stack = document.getElementById('stack');

    //Converte NodeList de cards em array
    const cards = Array.from(stack.querySelectorAll('.card'));

    //Seleciona botões de navegação
    const prevBtn = document.querySelector('.setas-carrossel.esquerda');
    const nextBtn = document.querySelector('.setas-carrossel.direita');

    let ativo = 2; // índice inicial do card ativo

    //Função que atualiza a visualização dos cards
    function render() {
      cards.forEach((card, i) => {
        //Calcula a diferença com o card ativo
        card.classList.remove('card--active','card--left','card--right','card--hidden');
        const diff = i - ativo; 

        //Card ativo
        if (diff === 0) card.classList.add('card--active');

        //Card à esquerda
        else if (diff === -1) card.classList.add('card--left');

        //Card à direita
        else if (diff === 1) card.classList.add('card--right');

        //Cards escondidos
        else card.classList.add('card--hidden');
      });
    }

    //Função que move o card ativo

    function mover(d) {

      //Altera o índice
      ativo += d;
      if (ativo < 0) ativo = cards.length - 1; //wrap-around início (quando chega no último card, ele volta para o primeiro)
      if (ativo > cards.length - 1) ativo = 0; //wrap-around fim (quando está no 1 card, se clicar pra esquerda, ele volta para o final)
      render(); //Atualiza a visualização
    }

    // Clique nos botões
    prevBtn?.addEventListener('click', (e) => { e.preventDefault(); mover(-1); resetAutoplay(); }); //Quando o usuário clicar no botão de voltar, ele volta para o card anterior (-1)
    nextBtn?.addEventListener('click', (e) => { e.preventDefault(); mover(1); resetAutoplay(); }); //Reinicia o autoplay para que o tempo de troca de card volte a contar do 0

    // Teclado(keyboard- setas esquerda e direita no teclado)
    window.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') { mover(-1); resetAutoplay(); }
      if (e.key === 'ArrowRight') { mover(1); resetAutoplay(); }
    });

    render(); //Garante que o card central certo carregue junto com a página

    // Autoplay (função de troca automática de card)
    let autoplay = setInterval(() => mover(1), 6000); // troca a cada 6 segundos

    // Reseta o intervalo quando o usuário interage
    function resetAutoplay() {
      clearInterval(autoplay);
      autoplay = setInterval(() => mover(1), 6000);
    }
  });

  </script>

  </body>
  </html>
